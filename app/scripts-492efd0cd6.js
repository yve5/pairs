"use strict";var app=angular.module("app",["ngRoute"]);app.config(["$routeProvider",function(e){e.when("/",{templateUrl:"app/html/game.html",controller:"game",controllerAs:"game"}).otherwise({redirectTo:"/"})}]);var app=angular.module("app");app.controller("game",["$scope","$http","$timeout","$rootScope","$window",function(e,i,t,n,s){e.init=function(i){e.icons=["face","extension","favorite","hourglass_empty","motorcycle","polymer","settings_input_hdmi","shopping_cart","thumb_up","work","album","chat","phone","vpn_key","drafts","games","radio","remove_circle","sd_card","attach_file","cloud","keyboard","mouse","watch","wb_sunny","tune","directions_car","directions_run","directions_subway","map","restaurant","golf_course","cake","public","star","whatshot","local_bar","notifications","school","all_inclusive","build","account_balance","https","room","payment","pets","watch_later","beach_access"],e.canPick=!0,e.selection=null,e.first=null,e.second=null,e.time=1e3,e.clicks=0,n.gameOver=!1,e.total=i,_.isUndefined(e.total)&&(e.total=e.largeTotal),e.tiles=[];for(var t=0;t<e.total;){var s=e.icons[_.random(0,e.icons.length-1)];_.isUndefined(_.find(e.tiles,{name:s}))&&(e.tiles.push({id:t++,name:s,isSelected:!1,isRemoved:!1}),e.tiles.push({id:t++,name:s,isSelected:!1,isRemoved:!1}))}e.tiles=_.shuffle(e.tiles)},e.chooseTile=function(i){e.canPick&&(e.isFirstInteraction(),e.tiles[i].isSelected===!1&&e.tiles[i].isRemoved===!1&&(e.tiles[i].isSelected=!0,e.clicks++,_.isNull(e.first)?e.first=i:_.isNull(e.second)&&(e.second=i,e.canPick=!1,e.tiles[e.first].name===e.tiles[e.second].name?t(e.removeTiles,e.time):t(e.resetTiles,e.time))))},e.resetTiles=function(){e.canPick=!0,e.tiles[e.first].isSelected=!1,e.tiles[e.second].isSelected=!1,e.first=null,e.second=null},e.removeTiles=function(){e.canPick=!0,e.tiles[e.first].isSelected=!1,e.tiles[e.second].isSelected=!1,e.tiles[e.first].isRemoved=!0,e.tiles[e.second].isRemoved=!0,e.first=null,e.second=null,_.isUndefined(_.find(e.tiles,{isRemoved:!1}))&&t(e.gameIsOver,e.time)},e.gameIsOver=function(){n.gameOver=!0,t(e.tryAgain,e.time)},e.tryAgain=function(){_.isUndefined(e.win)||e.win.width>800?e.init(e.largeTotal):e.init(e.smallTotal)},e.smallTotal=24,e.largeTotal=48,e.$watch("win.width",function(i,t){i===t&&(i<=800?e.init(e.smallTotal):e.init(e.largeTotal)),i<=800&&t>800&&e.init(e.smallTotal),i>800&&t<=800&&e.init(e.largeTotal)}),e.isPaused=!0,e.firstPlay=!1,e.pause=function(){e.isPaused=!e.isPaused},e.isFirstInteraction=function(){e.firstPlay===!1&&(e.firstPlay=!0,e.isPaused=!1)}}]);var app=angular.module("app");app.directive("onResize",["$window",function(e){return{restrict:"ACE",link:function(i,t,n){i.initResize=function(){i.win={},i.updateResize()},i.updateResize=function(){i.win.width=e.innerWidth,i.win.height=e.innerHeight},angular.element(e).on("resize",function(){i.updateResize(),i.$apply()}),i.initResize()}}}]);var app=angular.module("app");app.directive("audioPlayer",[function(){return{template:'<audio loop=""><source src="app/doc/alone.ogg" type="audio/ogg"></audio>',restrict:"ACE",scope:{pause:"="},link:function(e,i,t,n){var s=i[0].childNodes[0];e.$watch("pause",function(e,i){e?s.pause():s.play()})}}}]);